# RuoYi-Vue3-FastAPI å¿«é€Ÿå¼€å‘æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

RuoYi-Vue3-FastAPI æ˜¯ä¸€ä¸ªåŸºäº Vue3 + FastAPI çš„ä¼ä¸šçº§å¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›å®Œæ•´çš„æƒé™ç®¡ç†ã€ä»£ç ç”Ÿæˆã€ç³»ç»Ÿç›‘æ§ç­‰åŠŸèƒ½ã€‚

### ğŸ—ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| å‰ç«¯ | Vue3 + Element Plus + Vite + Pinia | æœ€æ–°ç¨³å®šç‰ˆ |
| åç«¯ | FastAPI + SQLAlchemy + MySQL/PostgreSQL | æœ€æ–°ç¨³å®šç‰ˆ |
| è®¤è¯ | OAuth2 + JWT | - |
| ç¼“å­˜ | Redis | - |
| æ„å»º | Vite (å‰ç«¯) + Uvicorn (åç«¯) | - |

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- âœ… **å®Œæ•´çš„æƒé™ç®¡ç†ç³»ç»Ÿ** - ç”¨æˆ·ã€è§’è‰²ã€èœå•ã€éƒ¨é—¨ç®¡ç†
- âœ… **ä»£ç ç”Ÿæˆå™¨** - ä¸€é”®ç”Ÿæˆå‰åç«¯ä»£ç 
- âœ… **åœ¨çº¿è¡¨å•æ„å»ºå™¨** - å¯è§†åŒ–è¡¨å•è®¾è®¡
- âœ… **ç³»ç»Ÿç›‘æ§** - CPUã€å†…å­˜ã€ç£ç›˜ç›‘æ§
- âœ… **å®šæ—¶ä»»åŠ¡** - åœ¨çº¿ä»»åŠ¡è°ƒåº¦ç®¡ç†
- âœ… **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼
- âœ… **å¤šæ•°æ®åº“æ”¯æŒ** - MySQLã€PostgreSQL
- âœ… **APIæ–‡æ¡£** - è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

```bash
# ç³»ç»Ÿè¦æ±‚
- Python â‰¥ 3.9
- Node.js â‰¥ 16
- MySQL â‰¥ 5.7 æˆ– PostgreSQL
- Redis
```

### 2. æ•°æ®åº“é…ç½®

#### MySQL é…ç½® (æ¨è)

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE `ruoyi-fastapi` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- å¯¼å…¥æ•°æ® (åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ)
mysql -u root -p ruoyi-fastapi < ruoyi-fastapi-backend/sql/ruoyi-fastapi.sql
```

#### PostgreSQL é…ç½®

```sql
-- åˆ›å»ºæ•°æ®åº“
createdb ruoyi-fastapi

-- å¯¼å…¥æ•°æ® (åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ)
psql -U postgres -d ruoyi-fastapi -f ruoyi-fastapi-backend/sql/ruoyi-fastapi-pg.sql
```

### 3. åç«¯å¯åŠ¨

```bash
# è¿›å…¥åç«¯ç›®å½•
cd ruoyi-fastapi-backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡ (ä¿®æ”¹ .env.dev æ–‡ä»¶)
# ä¸»è¦é…ç½®é¡¹ï¼š
# - æ•°æ®åº“è¿æ¥ä¿¡æ¯
# - Redisè¿æ¥ä¿¡æ¯
# - JWTå¯†é’¥

# å¯åŠ¨åç«¯æœåŠ¡
python3 app.py --env=dev
```

### 4. å‰ç«¯å¯åŠ¨

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd ruoyi-fastapi-frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 5. è®¿é—®ç³»ç»Ÿ

- **å‰ç«¯åœ°å€**: http://localhost:80
- **åç«¯API**: http://localhost:9099
- **é»˜è®¤è´¦å·**: admin
- **é»˜è®¤å¯†ç **: admin123

## ğŸ“ é¡¹ç›®ç»“æ„

```
RuoYi-Vue3-FastAPI/
â”œâ”€â”€ ruoyi-fastapi-frontend/          # Vue3å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                     # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ components/              # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/                  # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/                  # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç† (Pinia)
â”‚   â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ views/                   # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ ruoyi-fastapi-backend/           # FastAPIåç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ env.py                   # ç¯å¢ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ database.py              # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ constant.py              # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ module_admin/                # ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ controller/              # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ dao/                     # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ entity/                  # å®ä½“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ service/                 # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ module_generator/            # ä»£ç ç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ module_task/                 # å®šæ—¶ä»»åŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ sql/                         # æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸ”§ å¼€å‘æŒ‡å—

### 1. æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

#### åç«¯å¼€å‘æµç¨‹

1. **åˆ›å»ºå®ä½“æ¨¡å‹** (`module_admin/entity/`)
```python
from sqlalchemy import Column, Integer, String, DateTime
from config.database import Base

class YourEntity(Base):
    __tablename__ = 'your_table'
    
    id = Column(Integer, primary_key=True, autoincrement=True)
    name = Column(String(100), nullable=False, comment='åç§°')
    create_time = Column(DateTime, comment='åˆ›å»ºæ—¶é—´')
```

2. **åˆ›å»ºDAOå±‚** (`module_admin/dao/`)
```python
from module_admin.entity.your_entity import YourEntity
from config.database import get_db

class YourDao:
    def __init__(self):
        self.db = get_db()
    
    async def get_list(self, **kwargs):
        # æŸ¥è¯¢é€»è¾‘
        pass
```

3. **åˆ›å»ºServiceå±‚** (`module_admin/service/`)
```python
from module_admin.dao.your_dao import YourDao

class YourService:
    def __init__(self):
        self.dao = YourDao()
    
    async def get_list(self, **kwargs):
        return await self.dao.get_list(**kwargs)
```

4. **åˆ›å»ºControllerå±‚** (`module_admin/controller/`)
```python
from fastapi import APIRouter, Depends
from module_admin.service.your_service import YourService

router = APIRouter(prefix="/your", tags=["Youræ¨¡å—"])

@router.get("/list")
async def get_list(service: YourService = Depends()):
    return await service.get_list()
```

#### å‰ç«¯å¼€å‘æµç¨‹

1. **åˆ›å»ºAPIæ¥å£** (`src/api/`)
```javascript
import request from '@/utils/request'

export function getYourList(params) {
  return request({
    url: '/your/list',
    method: 'get',
    params
  })
}
```

2. **åˆ›å»ºé¡µé¢ç»„ä»¶** (`src/views/`)
```vue
<template>
  <div class="your-page">
    <!-- é¡µé¢å†…å®¹ -->
  </div>
</template>

<script setup>
import { getYourList } from '@/api/your'

// ç»„ä»¶é€»è¾‘
</script>
```

3. **æ·»åŠ è·¯ç”±é…ç½®** (`src/router/`)
```javascript
{
  path: '/your',
  component: Layout,
  children: [
    {
      path: 'list',
      component: () => import('@/views/your/index.vue'),
      name: 'YourList',
      meta: { title: 'Youråˆ—è¡¨', icon: 'list' }
    }
  ]
}
```

### 2. ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨

1. **é…ç½®æ•°æ®åº“è¡¨**
   - åœ¨æ•°æ®åº“ä¸­åˆ›å»ºè¡¨ç»“æ„
   - ç¡®ä¿è¡¨åä»¥ `sys_` å¼€å¤´ï¼ˆå¯é…ç½®ï¼‰

2. **ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨**
   - è®¿é—®ç³»ç»Ÿç®¡ç† â†’ ä»£ç ç”Ÿæˆ
   - å¯¼å…¥æ•°æ®åº“è¡¨
   - é…ç½®ç”Ÿæˆå‚æ•°
   - ç”Ÿæˆä»£ç å¹¶ä¸‹è½½

3. **é›†æˆç”Ÿæˆçš„ä»£ç **
   - å°†ç”Ÿæˆçš„åç«¯ä»£ç å¤åˆ¶åˆ°å¯¹åº”ç›®å½•
   - å°†ç”Ÿæˆçš„å‰ç«¯ä»£ç å¤åˆ¶åˆ°å¯¹åº”ç›®å½•
   - é…ç½®è·¯ç”±å’Œæƒé™

### 3. æƒé™ç®¡ç†

#### èœå•æƒé™
- åœ¨ç³»ç»Ÿç®¡ç† â†’ èœå•ç®¡ç†ä¸­é…ç½®èœå•
- è®¾ç½®èœå•æƒé™æ ‡è¯†
- é…ç½®æŒ‰é’®æƒé™

#### æ•°æ®æƒé™
- åœ¨è§’è‰²ç®¡ç†ä¸­è®¾ç½®æ•°æ®èŒƒå›´
- æ”¯æŒå…¨éƒ¨æ•°æ®ã€æœ¬éƒ¨é—¨æ•°æ®ã€æœ¬éƒ¨é—¨åŠä»¥ä¸‹æ•°æ®ã€è‡ªå®šä¹‰æ•°æ®

### 4. å¸¸ç”¨å¼€å‘æŠ€å·§

#### åç«¯å¼€å‘æŠ€å·§

1. **ä½¿ç”¨ä¾èµ–æ³¨å…¥**
```python
from fastapi import Depends
from module_admin.service.user_service import UserService

@router.get("/users")
async def get_users(service: UserService = Depends()):
    return await service.get_list()
```

2. **ç»Ÿä¸€å“åº”æ ¼å¼**
```python
from utils.response import success_response

@router.get("/data")
async def get_data():
    return success_response(data={"message": "success"})
```

3. **å‚æ•°éªŒè¯**
```python
from pydantic import BaseModel

class YourRequest(BaseModel):
    name: str
    age: int

@router.post("/create")
async def create(data: YourRequest):
    # å¤„ç†è¯·æ±‚
    pass
```

#### å‰ç«¯å¼€å‘æŠ€å·§

1. **ä½¿ç”¨ç»„åˆå¼API**
```vue
<script setup>
import { ref, onMounted } from 'vue'
import { useRequest } from '@/hooks/useRequest'

const { data, loading, run } = useRequest(getYourList)

onMounted(() => {
  run()
})
</script>
```

2. **çŠ¶æ€ç®¡ç†**
```javascript
// store/modules/your.js
import { defineStore } from 'pinia'

export const useYourStore = defineStore('your', {
  state: () => ({
    list: [],
    loading: false
  }),
  actions: {
    async fetchList() {
      this.loading = true
      try {
        const res = await getYourList()
        this.list = res.data
      } finally {
        this.loading = false
      }
    }
  }
})
```

## ğŸ› ï¸ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

```bash
# åç«¯
cd ruoyi-fastapi-backend
source venv/bin/activate
python3 app.py --env=dev

# å‰ç«¯
cd ruoyi-fastapi-frontend
npm run dev
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# åç«¯
cd ruoyi-fastapi-backend
source venv/bin/activate
python3 app.py --env=prod

# å‰ç«¯
cd ruoyi-fastapi-frontend
npm run build:prod
# å°† dist ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨
```

## ğŸ“š å¸¸ç”¨å‘½ä»¤

```bash
# åç«¯ç›¸å…³
python3 app.py --env=dev          # å¯åŠ¨å¼€å‘ç¯å¢ƒ
python3 app.py --env=prod         # å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
pip install -r requirements.txt    # å®‰è£…ä¾èµ–

# å‰ç«¯ç›¸å…³
npm run dev                       # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build:prod               # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build:stage              # æ„å»ºæµ‹è¯•ç‰ˆæœ¬
npm install                      # å®‰è£…ä¾èµ–
```

## ğŸ” å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
- æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯æ•°æ®åº“è¿æ¥é…ç½®
- ç¡®è®¤æ•°æ®åº“ç”¨æˆ·æƒé™

### 2. Redisè¿æ¥å¤±è´¥
- æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯Redisè¿æ¥é…ç½®
- ç¡®è®¤Rediså¯†ç è®¾ç½®

### 3. å‰ç«¯APIè¯·æ±‚å¤±è´¥
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯APIä»£ç†é…ç½®
- ç¡®è®¤è·¨åŸŸè®¾ç½®

### 4. æƒé™éªŒè¯å¤±è´¥
- æ£€æŸ¥JWTé…ç½®
- éªŒè¯ç”¨æˆ·ç™»å½•çŠ¶æ€
- ç¡®è®¤æƒé™é…ç½®

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **é¡¹ç›®åœ°å€**: https://gitee.com/insistence2022/RuoYi-Vue3-FastAPI
- **åœ¨çº¿æ¼”ç¤º**: https://vfadmin.insistence.tech
- **æ–‡æ¡£åœ°å€**: é¡¹ç›®README.md

## ğŸ‰ å¼€å§‹å¼€å‘

ç°åœ¨æ‚¨å·²ç»äº†è§£äº†é¡¹ç›®çš„åŸºæœ¬ç»“æ„å’Œå¼€å‘æµç¨‹ï¼Œå¯ä»¥å¼€å§‹æ‚¨çš„å¿«é€Ÿå¼€å‘ä¹‹æ—…äº†ï¼

è®°ä½ï¼š
1. å…ˆé…ç½®å¥½æ•°æ®åº“å’ŒRedis
2. å¯åŠ¨åç«¯å’Œå‰ç«¯æœåŠ¡
3. ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•ç³»ç»Ÿ
4. ç†Ÿæ‚‰å„ä¸ªåŠŸèƒ½æ¨¡å—
5. ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨å¿«é€Ÿå¼€å‘æ–°åŠŸèƒ½

ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼ğŸš€